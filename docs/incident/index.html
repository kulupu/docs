<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kulupu Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kulupu Blog Atom Feed"><title data-react-helmet="true">Incidents | Kulupu</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Incidents | Kulupu"><meta data-react-helmet="true" name="description" content="This page documents the past network incidents of the Kulupu"><meta data-react-helmet="true" property="og:description" content="This page documents the past network incidents of the Kulupu"><meta data-react-helmet="true" property="og:url" content="https://kulupu.network/docs/incident"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://kulupu.network/docs/incident"><link rel="stylesheet" href="/styles.c353d067.css">
<link rel="preload" href="/styles.d19618da.js" as="script">
<link rel="preload" href="/runtime~main.1c7f484c.js" as="script">
<link rel="preload" href="/main.46fc0227.js" as="script">
<link rel="preload" href="/1.8e71279e.js" as="script">
<link rel="preload" href="/2.dcad186f.js" as="script">
<link rel="preload" href="/16.f0177369.js" as="script">
<link rel="preload" href="/935f2afb.1a54217c.js" as="script">
<link rel="preload" href="/17896441.a0ad273a.js" as="script">
<link rel="preload" href="/ef134922.f11256ca.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Kulupu logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="Kulupu logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Kulupu</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Docs</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Kulupu logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="Kulupu logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Kulupu</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/overview">Docs</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Documentation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/economics">Economics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/governance">Governance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/runtime">Runtime</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/incident">Incidents</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dyor">Do your own research</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Runtime</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/runtime/grand-view-garden">Grand View Garden</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide/mining">Mining</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide/wallet">Wallet</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Incidents</h1></header><div class="markdown"><p>This page documents the past network incidents of the Kulupu
blockchain.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="decoding-error-in-runtime-dealing-with-multiple-parameters"></a>Decoding error in runtime dealing with multiple parameters<a class="hash-link" href="#decoding-error-in-runtime-dealing-with-multiple-parameters" title="Direct link to heading">#</a></h2><p><em>Early August, 2020</em></p><p>In the <em>Red Coast Base</em> runtime upgrade, an overlooked PR in Substrate repo
resulted in runtime decoding error for WebAssembly function exports. The issue
was fixed in Substrate
<a href="https://github.com/paritytech/substrate/pull/6484" target="_blank" rel="noopener noreferrer">PR#6484</a>. However, it did
not make it into the corresponding runtime upgrade.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="impact"></a>Impact<a class="hash-link" href="#impact" title="Direct link to heading">#</a></h3><p>Fortunately, the decoding error did not affect the core functionality
of the blockchain. Two WebAssembly function exports use multiple
parameters -- <code>validate_transaction</code> and <code>check_inherents</code>. Their
corresponding native variant does not suffer from the same decoding
error and can be used as alternatives to make sure the chain can
continue to function.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="resolution"></a>Resolution<a class="hash-link" href="#resolution" title="Direct link to heading">#</a></h3><p>The immediate temporary resolution was to ask miners to continue to
use version <code>v1.2.0</code>. That version has the corresponding native
variant of the runtime and the client will prefer to use them when
calling <code>validate_transaction</code> and <code>check_inherents</code>.</p><p>The root issue was fixed in the next <em>Seeker Camp</em> runtime upgrade
where PR#6484 was included.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="missing-runtime-migration-for-the-scheduler-module"></a>Missing runtime migration for the scheduler module<a class="hash-link" href="#missing-runtime-migration-for-the-scheduler-module" title="Direct link to heading">#</a></h2><p><em>Late August, 2020</em></p><p>From the <em>Red Coast Base</em> to <em>Seeker Camp</em> runtime upgrade, the
storage version of scheduler module was changed from <code>V1</code> to
<code>V2</code>. However, the corresponding runtime migration script for
scheduler module wasn&#x27;t included.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="impact-1"></a>Impact<a class="hash-link" href="#impact-1" title="Direct link to heading">#</a></h3><p>The following events happened that resulted in version mismatch of two
scheduler storage items:</p><ul><li>Referendum#4 was passed and was scheduled using the <em>Red Coast Base</em>
runtime, with scheduler storage version <code>V1</code>, at block 151,200.</li><li>Referendum#5 was passed and was scheduled using the <em>Red Coast Base</em>
runtime, with scheduler storage version <code>V1</code>, at block 161,280.</li><li><em>Seeker Camp</em> runtime was activated at block 162,720, changing the
scheduler module storage to version <code>V2</code> but did not run the
migration script.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="resolution-1"></a>Resolution<a class="hash-link" href="#resolution-1" title="Direct link to heading">#</a></h3><p>The issue is planned to be resolved by removing the automatic
scheduling of referendum#4 and referendum#5, and manually enact
referendum#4 and referendum#5, using a fast-tracked democracy
referendum.</p><p>A council motion with the preimage of the following root batch call
was submitted:</p><ol><li>Clear the storage prefix of <code>Scheduler</code> module, to remove the
faulty <code>Agenda</code> values.</li><li>Set <code>Scheduler::StorageVersion</code> to <code>V2</code> manually.</li><li>Enact referendum#4 manually.</li><li>Enact referendum#5 manually.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="module-index-change-in-runtime-upgrade"></a>Module index change in runtime upgrade<a class="hash-link" href="#module-index-change-in-runtime-upgrade" title="Direct link to heading">#</a></h2><p><em>Late October, 2020</em></p><p>In the <strong>Gondoa</strong> runtime upgrade, an accidential runtime module index
change happened.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="impact-2"></a>Impact<a class="hash-link" href="#impact-2" title="Direct link to heading">#</a></h3><p>This index change did not impact anything in the scheduler module, as
when the runtime happened, no scheduling was in planned. However, the
change impacted all current democracy proposals and the current
democracy referendum, rendering them invalid, because the
dispatchables are stored on-chain.</p><p>Past referenda and any on-chain transactions are not impacted by the
module index change.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="resolution-2"></a>Resolution<a class="hash-link" href="#resolution-2" title="Direct link to heading">#</a></h3><p>The council and the technical committee decided to work together to
cancel the current democracy referendum and all current democracy
proposals and to re-submit them again. Alternatively, the current
democracy referendum can also be simply voted down by coin holders. If
the current demoracy referendum passes, it will do no harm to the
chain but it will also be no-op, as the actual dispatachable is
missing.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="type-definition-incompatibility-between-ui-and-runtime"></a>Type definition incompatibility between UI and runtime<a class="hash-link" href="#type-definition-incompatibility-between-ui-and-runtime" title="Direct link to heading">#</a></h2><p><em>29 December, 2020</em></p><p>In the <strong>Hotel Adriano</strong> runtime upgrade, an overlooked type
definition was updated in runtime, but was not updated promptly in the
polkadot.js UI, resulting in a brief period when the node will not
accept transactions constructed by polkadot.js.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="impact-3"></a>Impact<a class="hash-link" href="#impact-3" title="Direct link to heading">#</a></h3><p>This incident only impacts polkadot.js UI, and does not impact node
consensus. However, as most exchanges and explorers depend on the
polkadot.js library, it results in non-updated services unable to send
extrinsics or parse extrinsics coming from the network.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="resolution-3"></a>Resolution<a class="hash-link" href="#resolution-3" title="Direct link to heading">#</a></h3><p>The type definition update
link:<a href="https://github.com/polkadot-js/apps/pull/4281%5BPR%5D" target="_blank" rel="noopener noreferrer">https://github.com/polkadot-js/apps/pull/4281[PR]</a> is submitted to
the polkadot.js repository. We&#x27;re in the process of notifying
exchanges and explorers about this update.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/kulupu/docs/edit/master/website/docs/incident.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/runtime"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Runtime</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/dyor"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Do your own research Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#decoding-error-in-runtime-dealing-with-multiple-parameters" class="table-of-contents__link">Decoding error in runtime dealing with multiple parameters</a><ul><li><a href="#impact" class="table-of-contents__link">Impact</a></li><li><a href="#resolution" class="table-of-contents__link">Resolution</a></li></ul></li><li><a href="#missing-runtime-migration-for-the-scheduler-module" class="table-of-contents__link">Missing runtime migration for the scheduler module</a><ul><li><a href="#impact-1" class="table-of-contents__link">Impact</a></li><li><a href="#resolution-1" class="table-of-contents__link">Resolution</a></li></ul></li><li><a href="#module-index-change-in-runtime-upgrade" class="table-of-contents__link">Module index change in runtime upgrade</a><ul><li><a href="#impact-2" class="table-of-contents__link">Impact</a></li><li><a href="#resolution-2" class="table-of-contents__link">Resolution</a></li></ul></li><li><a href="#type-definition-incompatibility-between-ui-and-runtime" class="table-of-contents__link">Type definition incompatibility between UI and runtime</a><ul><li><a href="#impact-3" class="table-of-contents__link">Impact</a></li><li><a href="#resolution-3" class="table-of-contents__link">Resolution</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/kulupunetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.reddit.com/r/kulupu/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit</a></li><li class="footer__item"><a href="https://discord.gg/DZbg4rZ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Development</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/kulupu/kulupu" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://matrix.to/#/#kulupu:matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Matrix</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Kulupu contributors.</div></div></div></footer></div>
<script src="/styles.d19618da.js"></script>
<script src="/runtime~main.1c7f484c.js"></script>
<script src="/main.46fc0227.js"></script>
<script src="/1.8e71279e.js"></script>
<script src="/2.dcad186f.js"></script>
<script src="/16.f0177369.js"></script>
<script src="/935f2afb.1a54217c.js"></script>
<script src="/17896441.a0ad273a.js"></script>
<script src="/ef134922.f11256ca.js"></script>
</body>
</html>